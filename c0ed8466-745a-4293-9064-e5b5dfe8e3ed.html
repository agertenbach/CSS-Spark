<style>
.count:hover { 
  background-color: black !important;
}

.vistext{
  visibility: hidden;
  margin-top:2.75em;
  height:8px;
  font-size: 14px;
  display: inline-block;
  white-space:nowrap;
}

.index:hover .vistext { 
  visibility: visible;
}

.sparkline { 
  display: inline-block;
  height: 3em;
  margin: 0 0.5em;
  transition: all .5s ease;
}

.sparkline .index { 
  position: relative;
  float: left; 
  height: 3em; 
}

.sparkline .index .count { 
  display: block; 
  position: absolute; 
  left: 0; 
  width: 100%; 
  height: 0; 
  background: transparent;
  color: transparent;
}
</style>
<div><div>
  <figure>
	<ul>
	  <li>
		{{settings.Text}}
		<span class="sparkline">
		  <element ng-repeat="row in data.rows">
			<span class="index" style="width:{{settings.sparkwidth}}px;">
			  <span class="count" style="width:{{settings.sparkwidth}}px;
										 {{row.measures[0].qNum >= 0 &amp;&amp; settings.min >= 0 &amp;&amp; settings.max >= 0 ? 'bottom:0%' : 
										 row.measures[0].qNum >= 0 &amp;&amp; settings.min < 0 &amp;&amp; settings.max >= 0 ? 'bottom: ' + ((settings.min * -1) / ((settings.min * -1) ++ settings.max) * 100) + '%' :
										 row.measures[0].qNum < 0 &amp;&amp; settings.min < 0 &amp;&amp; settings.max >= 0 ? 'top: ' + (100 - ((settings.min * -1) / ((settings.min * -1) ++ settings.max) * 100)) + '%' :
										 row.measures[0].qNum < 0 &amp;&amp; settings.min < 0 &amp;&amp; settings.max < 0 ? 'top: 0%' :
										 'bottom: 0px'}}
										 ;
										 {{row.measures[0].qNum >= 0 ? 'height:' + (row.measures[0].qNum / (settings.max - settings.min) * 100) + '%' : 
										 row.measures[0].qNum < 0  ? 'height:' + (row.measures[0].qNum / (settings.max - settings.min) * -100) + '%'  :
										 'height: 0px'}}
										 ;
										 background: {{row.measures[0].qNum >= settings.Threshold ? settings.posColor : settings.negColor}}
										 ">
			  </span>
			  <span class="vistext"><b>{{row.dimensions[0].qText}}: </b> {{row.measures[0].qText}}</span>
			</span>
		  </element>
		</span>
	  </li>
	</ul>
  </figure>
</div>
</div>
